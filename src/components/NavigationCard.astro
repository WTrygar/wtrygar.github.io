---
import cssVars from "../styles/css-vars";

type imageProps = {
  src: string;
  srcset?: {
    source: string;
    media: string;
  }[];
};

interface Props {
  class: string;
  title: string;
  imageUrl: string;
  img: string;
  images?: imageProps[];
  buttonUrl: string;
}

const {
  class: className,
  title,
  imageUrl,
  img,
  buttonUrl,
  images,
} = Astro.props;

// const firstElementBig = images?.length > 2;
---

<div class={className}>
  <h3 class="card-title">{title}</h3>
  <a href={buttonUrl}>VIEW PROJECTS</a>
  <!-- 
    <a class:list={['card-container', className, { "first-img-big": firstElementBig }]} href="">
    * map => image
    { i
     mages && images.map(image => {
      <picture>
      { image.srcset.map((source) => {
        <source srcset={source.source} media="(source.media)" />
       })}
        <img src={image.src} alt={alt} loading="lazy" decoding="async" />
      </picture>
     })}
    <h3>{title}</h3>
    <p>View projects</p>
    </a>
  -->
</div>
<style define:vars={{ cssVars, image: `url("${img}")` }}>
  .one {
    background-image: url("/src/assets/home/mobile/image-web-design.jpg");
    background-size: cover;
  }

  .two {
    background-image: url("/src/assets/home/mobile/image-app-design.jpg");
    background-size: cover;
  }

  .three {
    background-image: url("/src/assets/home/mobile/image-graphic-design.jpg");
    background-size: cover;
  }

  .one,
  .two,
  .three {
    /* background-image:
      linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), var(--image); */
    width: 100%;
    height: 300px;
    margin: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 15px;
  }

  .one h3,
  .two h3,
  .three h3 {
    text-align: center;
    color: white;
    font-size: 2rem;
    letter-spacing: 0.2rem;
  }

  .one a,
  .two a,
  .three a {
    text-decoration: none;
    color: white;
    letter-spacing: 5px;
  }

  @media (min-width: 600px) and (max-width: 900px) {
    .one {
      background-image: url("/src/assets/home/tablet/image-web-design.jpg");
    }

    .two {
      background-image: url("/src/assets/home/tablet/image-app-design.jpg");
    }

    .three {
      background-image: url("/src/assets/home/tablet/image-graphic-design.jpg");
    }

    .one,
    .two,
    .three {
      height: 200px;
    }
  }

  @media (min-width: 900px) {
    .one {
      background-image: url("/src/assets/home/desktop/image-web-design-large.jpg");
    }

    .two {
      background-image: url("/src/assets/home/desktop/image-app-design.jpg");
    }

    .three {
      background-image: url("/src/assets/home/desktop/image-graphic-design.jpg");
    }

    .one,
    .two,
    .three {
      margin: 0;
    }
    .one {
      grid-row-start: 1;
      grid-row-end: 3;
      /* height: 630px; */
    }
    /* .first-image-big --> zamiast .one */
    /* 
    :nth-child(1)
    :nth-child(2)
    :nth-child(3) 
    */
  }
</style>
